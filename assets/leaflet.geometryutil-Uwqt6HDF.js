import{g as p}from"./_commonjsHelpers-4gQjN7DL.js";import{r as U}from"./leaflet-8263QGOo.js";var x={exports:{}};(function(M){(function(a){var t;t=U(),M.exports=a(t)})(function(a){return a.Polyline._flat=a.LineUtil.isFlat||a.Polyline._flat||function(t){return!a.Util.isArray(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"},a.GeometryUtil=a.extend(a.GeometryUtil||{},{distance:function(t,e,r){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(r))},distanceSegment:function(t,e,r,n){var o=t.latLngToLayerPoint(e),i=t.latLngToLayerPoint(r),c=t.latLngToLayerPoint(n);return a.LineUtil.pointToSegmentDistance(o,i,c)},readableDistance:function(t,e){var r=e!=="imperial",n;return r?t>1e3?n=(t/1e3).toFixed(2)+" km":n=t.toFixed(1)+" m":(t*=1.09361,t>1760?n=(t/1760).toFixed(2)+" miles":n=t.toFixed(1)+" yd"),n},belongsSegment:function(t,e,r,n){n=n===void 0?.2:n;var o=e.distanceTo(r),i=e.distanceTo(t)+t.distanceTo(r)-o;return i/o<n},length:function(t){var e=a.GeometryUtil.accumulatedLengths(t);return e.length>0?e[e.length-1]:0},accumulatedLengths:function(t){if(typeof t.getLatLngs=="function"&&(t=t.getLatLngs()),t.length===0)return[];for(var e=0,r=[0],n=0,o=t.length-1;n<o;n++)e+=t[n].distanceTo(t[n+1]),r.push(e);return r},closestOnSegment:function(t,e,r,n){var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());var i=t.project(e,o),c=t.project(r,o),s=t.project(n,o),u=a.LineUtil.closestPointOnSegment(i,c,s);return t.unproject(u,o)},closestOnCircle:function(t,e){const r=t.getLatLng(),n=t.getRadius(),o=typeof n=="number"?n:n.radius,i=e.lng,c=e.lat,s=r.lng,u=r.lat,f=i-s,l=c-u,g=Math.sqrt(f*f+l*l),h=s+f/g*o,d=u+l/g*o;return new a.LatLng(d,h)},closest:function(t,e,r,n){var o,i=1/0,c=null,s,u,f,l;if(e instanceof Array)if(e[0]instanceof Array&&typeof e[0][0]!="number"){for(s=0;s<e.length;s++)l=a.GeometryUtil.closest(t,e[s],r,n),l&&l.distance<i&&(i=l.distance,c=l);return c}else if(e[0]instanceof a.LatLng||typeof e[0][0]=="number"||typeof e[0].lat=="number")e=a.polyline(e);else return c;if(!(e instanceof a.Polyline))return c;if(o=JSON.parse(JSON.stringify(e.getLatLngs().slice(0))),e instanceof a.Polygon){var g=function(v){if(a.Polyline._flat(v))v.push(v[0]);else for(var m=0;m<v.length;m++)g(v[m])};g(o)}if(a.Polyline._flat(o)){if(n){for(s=0,u=o.length;s<u;s++){var h=o[s];f=a.GeometryUtil.distance(t,r,h),f<i&&(i=f,c=h,c.distance=f)}return c}for(s=0,u=o.length;s<u-1;s++){var d=o[s],y=o[s+1];f=a.GeometryUtil.distanceSegment(t,r,d,y),f<=i&&(i=f,c=a.GeometryUtil.closestOnSegment(t,r,d,y),c.distance=f)}return c}else{for(s=0;s<o.length;s++)l=a.GeometryUtil.closest(t,o[s],r,n),l.distance<i&&(i=l.distance,c=l);return c}},closestLayer:function(t,e,r){for(var n=1/0,o=null,i=null,c=1/0,s=0,u=e.length;s<u;s++){var f=e[s];if(f instanceof a.LayerGroup){var l=a.GeometryUtil.closestLayer(t,f.getLayers(),r);l.distance<n&&(n=l.distance,o=l)}else f instanceof a.Circle?(i=this.closestOnCircle(f,r),c=a.GeometryUtil.distance(t,r,i)):typeof f.getLatLng=="function"?(i=f.getLatLng(),c=a.GeometryUtil.distance(t,r,i)):(i=a.GeometryUtil.closest(t,f,r),i&&(c=i.distance)),c<n&&(n=c,o={layer:f,latlng:i,distance:c})}return o},nClosestLayers:function(t,e,r,n){if(n=typeof n=="number"?n:e.length,n<1||e.length<1)return null;for(var o=[],i,c,s=0,u=e.length;s<u;s++){var f=e[s];if(f instanceof a.LayerGroup){var l=a.GeometryUtil.closestLayer(t,f.getLayers(),r);o.push(l)}else f instanceof a.Circle?(c=this.closestOnCircle(f,r),i=a.GeometryUtil.distance(t,r,c)):typeof f.getLatLng=="function"?(c=f.getLatLng(),i=a.GeometryUtil.distance(t,r,c)):(c=a.GeometryUtil.closest(t,f,r),c&&(i=c.distance)),o.push({layer:f,latlng:c,distance:i})}return o.sort(function(g,h){return g.distance-h.distance}),o.length>n?o.slice(0,n):o},layersWithin:function(t,e,r,n){n=typeof n=="number"?n:1/0;for(var o=[],i=null,c=0,s=0,u=e.length;s<u;s++){var f=e[s];typeof f.getLatLng=="function"?(i=f.getLatLng(),c=a.GeometryUtil.distance(t,r,i)):(i=a.GeometryUtil.closest(t,f,r),i&&(c=i.distance)),i&&c<n&&o.push({layer:f,latlng:i,distance:c})}var l=o.sort(function(g,h){return g.distance-h.distance});return l},closestLayerSnap:function(t,e,r,n,o){n=typeof n=="number"?n:1/0,o=typeof o=="boolean"?o:!0;var i=a.GeometryUtil.closestLayer(t,e,r);if(!i||i.distance>n)return null;if(o&&typeof i.layer.getLatLngs=="function"){var c=a.GeometryUtil.closest(t,i.layer,i.latlng,!0);c.distance<n&&(i.latlng=c,i.distance=a.GeometryUtil.distance(t,c,r))}return i},interpolateOnPointSegment:function(t,e,r){return a.point(t.x*(1-r)+r*e.x,t.y*(1-r)+r*e.y)},interpolateOnLine:function(t,e,r){e=e instanceof a.Polyline?e.getLatLngs():e;var n=e.length;if(n<2)return null;if(r=Math.max(Math.min(r,1),0),r===0)return{latLng:e[0]instanceof a.LatLng?e[0]:a.latLng(e[0]),predecessor:-1};if(r==1)return{latLng:e[e.length-1]instanceof a.LatLng?e[e.length-1]:a.latLng(e[e.length-1]),predecessor:e.length-2};var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());for(var i=[],c=0,s=0;s<n;s++)i[s]=t.project(e[s],o),s>0&&(c+=i[s-1].distanceTo(i[s]));for(var u=c*r,f=0,l=0,s=0;l<u;s++){var g=i[s],h=i[s+1];f=l,l+=g.distanceTo(h)}if(g==null&&h==null)var g=i[0],h=i[1],s=1;var d=l-f!==0?(u-f)/(l-f):0,y=a.GeometryUtil.interpolateOnPointSegment(g,h,d);return{latLng:t.unproject(y,o),predecessor:s-1}},locateOnLine:function(t,e,r){var n=e.getLatLngs();if(r.equals(n[0]))return 0;if(r.equals(n[n.length-1]))return 1;for(var o=a.GeometryUtil.closest(t,e,r,!1),i=a.GeometryUtil.accumulatedLengths(n),c=i[i.length-1],s=0,u=!1,f=0,l=n.length-1;f<l;f++){var g=n[f],h=n[f+1];if(s=i[f],a.GeometryUtil.belongsSegment(o,g,h,.001)){s+=g.distanceTo(o),u=!0;break}}if(!u)throw"Could not interpolate "+r.toString()+" within "+e.toString();return s/c},reverse:function(t){return a.polyline(t.getLatLngs().slice(0).reverse())},extract:function(t,e,r,n){if(r>n)return a.GeometryUtil.extract(t,a.GeometryUtil.reverse(e),1-r,1-n);r=Math.max(Math.min(r,1),0),n=Math.max(Math.min(n,1),0);var o=e.getLatLngs(),i=a.GeometryUtil.interpolateOnLine(t,e,r),c=a.GeometryUtil.interpolateOnLine(t,e,n);if(r==n){var s=a.GeometryUtil.interpolateOnLine(t,e,n);return[s.latLng]}i.predecessor==-1&&(i.predecessor=0),c.predecessor==-1&&(c.predecessor=0);var u=o.slice(i.predecessor+1,c.predecessor+1);return u.unshift(i.latLng),u.push(c.latLng),u},isBefore:function(t,e){if(!e)return!1;var r=t.getLatLngs(),n=e.getLatLngs();return r[r.length-1].equals(n[0])},isAfter:function(t,e){if(!e)return!1;var r=t.getLatLngs(),n=e.getLatLngs();return r[0].equals(n[n.length-1])},startsAtExtremity:function(t,e){if(!e)return!1;var r=t.getLatLngs(),n=e.getLatLngs(),o=r[0];return o.equals(n[0])||o.equals(n[n.length-1])},computeAngle:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI},computeSlope:function(t,e){var r=(e.y-t.y)/(e.x-t.x),n=t.y-r*t.x;return{a:r,b:n}},rotatePoint:function(t,e,r,n){var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());var i=r*Math.PI/180,c=t.project(e,o),s=t.project(n,o),u=Math.cos(i)*(c.x-s.x)-Math.sin(i)*(c.y-s.y)+s.x,f=Math.sin(i)*(c.x-s.x)+Math.cos(i)*(c.y-s.y)+s.y;return t.unproject(new a.Point(u,f),o)},bearing:function(t,e){var r=Math.PI/180,n=t.lat*r,o=e.lat*r,i=t.lng*r,c=e.lng*r,s=Math.sin(c-i)*Math.cos(o),u=Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(c-i),f=(Math.atan2(s,u)*180/Math.PI+360)%360;return f>=180?f-360:f},destination:function(t,e,r){e=(e+360)%360;var n=Math.PI/180,o=180/Math.PI,i=a.CRS.Earth.R,c=t.lng*n,s=t.lat*n,u=e*n,f=Math.sin(s),l=Math.cos(s),g=Math.cos(r/i),h=Math.sin(r/i),d=Math.asin(f*g+l*h*Math.cos(u)),y=c+Math.atan2(Math.sin(u)*h*l,g-f*Math.sin(d));return y=y*o,y=y>180?y-360:y<-180?y+360:y,a.latLng([d*o,y])},angle:function(t,e,r){var n=t.latLngToContainerPoint(e),o=t.latLngToContainerPoint(r),i=Math.atan2(o.y-n.y,o.x-n.x)*180/Math.PI+90;return i+=i<0?360:0,i},destinationOnSegment:function(t,e,r,n){var o=a.GeometryUtil.angle(t,e,r),i=a.GeometryUtil.destination(e,o,n);return a.GeometryUtil.closestOnSegment(t,i,e,r)}}),a.GeometryUtil})})(x);var G=x.exports;const L=p(G);export{L as G};
