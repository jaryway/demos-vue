var It=Object.defineProperty;var _t=(r,t,e)=>t in r?It(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var v=(r,t,e)=>(_t(r,typeof t!="symbol"?t+"":t,e),e);import{c as x}from"./index--jIQrVgb.js";import{D as Q}from"./vuedraggable.umd-gnzLdPpC.js";import{d as Pt,r as N,o as Ft,a as Kt,c as y,m as tt,F as Nt,n as ut}from"./index-5QjEeMRG.js";import"./_commonjsHelpers-4gQjN7DL.js";/*!
 * better-scroll / core
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nt=function(r,t){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])},nt(r,t)};function Z(r,t){nt(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var z=function(){return z=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++){e=arguments[o];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},z.apply(this,arguments)};function Et(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var o=Array(r),i=0,t=0;t<e;t++)for(var s=arguments[t],n=0,a=s.length;n<a;n++,i++)o[i]=s[n];return o}var Wt=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function W(r){console.error("[BScroll warn]: "+r)}var k=typeof window<"u",X=k&&navigator.userAgent.toLowerCase(),$t=!!(X&&/wechatdevtools/.test(X)),Ut=X&&X.indexOf("android")>0,Vt=function(){if(typeof X=="string"){var r=/os (\d\d?_\d(_\d)?)/,t=r.exec(X);if(!t)return!1;var e=t[1].split("_").map(function(o){return parseInt(o,10)});return e[0]===13&&e[1]>=4}return!1}(),Ct=!1;if(k){var qt="test-passive";try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Ct=!0}}),window.addEventListener(qt,function(){},pt)}catch(r){}}function C(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var at=function(r,t){for(var e in t)r[e]=t[e];return r};function lt(r){return r==null}function ft(r,t,e){return r<t?t:r>e?e:r}var ct=k&&document.createElement("div").style,M=function(){if(!k)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],t=0,e=r;t<e.length;t++){var o=e[t];if(ct[o.value]!==void 0)return o.key}return!1}();function T(r){return M===!1?r:M==="standard"?r==="transitionEnd"?"transitionend":r:M+r.charAt(0).toUpperCase()+r.substr(1)}function Dt(r){return typeof r=="string"?document.querySelector(r):r}function Zt(r,t,e,o){var i=Ct?{passive:!1,capture:!!o}:!!o;r.addEventListener(t,e,i)}function jt(r,t,e,o){r.removeEventListener(t,e,{capture:!!o})}function xt(r){r.cancelable&&r.preventDefault()}function vt(r){for(var t=0,e=0;r;)t-=r.offsetLeft,e-=r.offsetTop,r=r.offsetParent;return{left:t,top:e}}M&&M!=="standard"&&""+M.toLowerCase();var Gt=T("transform"),Bt=T("transition"),Jt=k&&T("perspective")in ct,dt=k&&("ontouchstart"in window||$t),Qt=k&&Bt in ct,E={transform:Gt,transition:Bt,transitionTimingFunction:T("transitionTimingFunction"),transitionDuration:T("transitionDuration"),transitionDelay:T("transitionDelay"),transformOrigin:T("transformOrigin"),transitionEnd:T("transitionEnd"),transitionProperty:T("transitionProperty")},et={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function mt(r){if(r instanceof window.SVGElement){var t=r.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}else return{top:r.offsetTop,left:r.offsetLeft,width:r.offsetWidth,height:r.offsetHeight}}function A(r,t){for(var e in t)if(t[e].test(r[e]))return!0;return!1}var te=A;function ee(r,t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),e.pageX=r.pageX,e.pageY=r.pageY,r.target.dispatchEvent(e)}function Mt(r,t){t===void 0&&(t="click");var e;r.type==="mouseup"?e=r:(r.type==="touchend"||r.type==="touchcancel")&&(e=r.changedTouches[0]);var o={};e&&(o.screenX=e.screenX||0,o.screenY=e.screenY||0,o.clientX=e.clientX||0,o.clientY=e.clientY||0);var i,s=!0,n=!0,a=r.ctrlKey,l=r.shiftKey,h=r.altKey,c=r.metaKey,p={ctrlKey:a,shiftKey:l,altKey:h,metaKey:c};if(typeof MouseEvent<"u")try{i=new MouseEvent(t,at(z({bubbles:s,cancelable:n},p),o))}catch(d){f()}else f();function f(){i=document.createEvent("Event"),i.initEvent(t,s,n),at(i,o)}i.forwardedTouchEvent=!0,i._constructed=!0,r.target.dispatchEvent(i)}function oe(r){Mt(r,"dblclick")}var P={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(r){return 1+--r*r*r*r*r}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(r){return r*(2-r)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(r){return 1- --r*r*r*r}}},re=1e3/60,b=k&&window;function Ot(){}var Xt=function(){return k?b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(r){return window.setTimeout(r,r.interval||re)}:Ot}(),D=function(){return k?b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||function(r){window.clearTimeout(r)}:Ot}(),yt=function(r){},ot={enumerable:!0,configurable:!0,get:yt,set:yt},ie=function(r,t){for(var e=t.split("."),o=0;o<e.length-1;o++)if(r=r[e[o]],typeof r!="object"||!r)return;var i=e.pop();return typeof r[i]=="function"?function(){return r[i].apply(r,arguments)}:r[i]},se=function(r,t,e){for(var o=t.split("."),i,s=0;s<o.length-1;s++)i=o[s],r[i]||(r[i]={}),r=r[i];r[o.pop()]=e};function ne(r,t,e){ot.get=function(){return ie(this,t)},ot.set=function(i){se(this,t,i)},Object.defineProperty(r,e,ot)}var w=function(){function r(t){this.events={},this.eventTypes={},this.registerType(t)}return r.prototype.on=function(t,e,o){return o===void 0&&(o=this),this.hasType(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,o]),this},r.prototype.once=function(t,e,o){var i=this;o===void 0&&(o=this),this.hasType(t);var s=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];i.off(t,s);var l=e.apply(o,n);if(l===!0)return l};return s.fn=e,this.on(t,s),this},r.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this.hasType(t),!e)return this.events[t]=[],this;var o=this.events[t];if(!o)return this;for(var i=o.length;i--;)(o[i][0]===e||o[i][0]&&o[i][0].fn===e)&&o.splice(i,1);return this}},r.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.hasType(t);var i=this.events[t];if(i)for(var s=i.length,n=Et(i),a,l=0;l<s;l++){var h=n[l],c=h[0],p=h[1];if(c&&(a=c.apply(p,e),a===!0))return a}},r.prototype.registerType=function(t){var e=this;t.forEach(function(o){e.eventTypes[o]=o})},r.prototype.destroy=function(){this.events={},this.eventTypes={}},r.prototype.hasType=function(t){var e=this.eventTypes,o=e[t]===t;o||W('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+(""+Object.keys(e).map(function(i){return JSON.stringify(i)}))+"]")},r}(),V=function(){function r(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return r.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},r.prototype.addDOMEvents=function(){this.handleDOMEvents(Zt)},r.prototype.removeDOMEvents=function(){this.handleDOMEvents(jt)},r.prototype.handleDOMEvents=function(t){var e=this,o=this.wrapper;this.events.forEach(function(i){t(o,i.name,e,!!i.capture)})},r.prototype.handleEvent=function(t){var e=t.type;this.events.some(function(o){return o.name===e?(o.handler(t),!0):!1})},r}(),ae=function(){function r(){}return r}(),le=function(r){Z(t,r);function t(){var e=r.call(this)||this;return e.startX=0,e.startY=0,e.scrollX=!1,e.scrollY=!0,e.freeScroll=!1,e.directionLockThreshold=0,e.eventPassthrough="",e.click=!1,e.dblclick=!1,e.tap="",e.bounce={top:!0,bottom:!0,left:!0,right:!0},e.bounceTime=800,e.momentum=!0,e.momentumLimitTime=300,e.momentumLimitDistance=15,e.swipeTime=2500,e.swipeBounceTime=500,e.deceleration=.0015,e.flickLimitTime=200,e.flickLimitDistance=100,e.resizePolling=60,e.probeType=0,e.stopPropagation=!1,e.preventDefault=!0,e.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},e.tagException={tagName:/^TEXTAREA$/},e.HWCompositing=!0,e.useTransition=!0,e.bindToWrapper=!1,e.bindToTarget=!1,e.disableMouse=dt,e.disableTouch=!dt,e.autoBlur=!0,e.autoEndDistance=5,e.outOfBoundaryDampingFactor=1/3,e.specifiedIndexAsContent=0,e.quadrant=1,e}return t.prototype.merge=function(e){if(!e)return this;for(var o in e){if(o==="bounce"){this.bounce=this.resolveBounce(e[o]);continue}this[o]=e[o]}return this},t.prototype.process=function(){return this.translateZ=this.HWCompositing&&Jt?" translateZ(1px)":"",this.useTransition=this.useTransition&&Qt,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX=this.eventPassthrough==="horizontal"?!1:this.scrollX,this.scrollY=this.eventPassthrough==="vertical"?!1:this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=this.freeScroll?!0:this.scrollX,this.scrollY=this.freeScroll?!0:this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},t.prototype.resolveBounce=function(e){var o={top:!0,right:!0,bottom:!0,left:!0},i={top:!1,right:!1,bottom:!1,left:!1},s;return typeof e=="object"?s=at(o,e):s=e?o:i,s},t}(ae),he=function(){function r(t,e){this.wrapper=t,this.options=e,this.hooks=new w(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return r.prototype.handleDOMEvents=function(){var t=this.options,e=t.bindToWrapper,o=t.disableMouse,i=t.disableTouch,s=t.click,n=this.wrapper,a=e?n:window,l=[],h=[],c=!i,p=!o;s&&l.push({name:"click",handler:this.click.bind(this),capture:!0}),c&&(l.push({name:"touchstart",handler:this.start.bind(this)}),h.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),p&&(l.push({name:"mousedown",handler:this.start.bind(this)}),h.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new V(n,l),this.targetEventRegister=new V(a,h)},r.prototype.beforeHandler=function(t,e){var o=this.options,i=o.preventDefault,s=o.stopPropagation,n=o.preventDefaultException,a={start:function(){return i&&!A(t.target,n)},end:function(){return i&&!A(t.target,n)},move:function(){return i}};a[e]()&&t.preventDefault(),s&&t.stopPropagation()},r.prototype.setInitiated=function(t){t===void 0&&(t=0),this.initiated=t},r.prototype.start=function(t){var e=et[t.type];if(!(this.initiated&&this.initiated!==e)){if(this.setInitiated(e),te(t.target,this.options.tagException)){this.setInitiated();return}if(!(e===2&&t.button!==0)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,t)){this.beforeHandler(t,"start");var o=t.touches?t.touches[0]:t;this.pointX=o.pageX,this.pointY=o.pageY,this.hooks.trigger(this.hooks.eventTypes.start,t)}}},r.prototype.move=function(t){if(et[t.type]===this.initiated){this.beforeHandler(t,"move");var e=t.touches?t.touches[0]:t,o=e.pageX-this.pointX,i=e.pageY-this.pointY;if(this.pointX=e.pageX,this.pointY=e.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:o,deltaY:i,e:t})){var s=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,a=this.pointX-s,l=this.pointY-n,h=this.options.autoEndDistance;(a>document.documentElement.clientWidth-h||l>document.documentElement.clientHeight-h||a<h||l<h)&&this.end(t)}}},r.prototype.end=function(t){et[t.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(t,"end"),this.hooks.trigger(this.hooks.eventTypes.end,t))},r.prototype.click=function(t){this.hooks.trigger(this.hooks.eventTypes.click,t)},r.prototype.setContent=function(t){t!==this.wrapper&&(this.wrapper=t,this.rebindDOMEvents())},r.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},r.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},r}(),rt={x:["translateX","px"],y:["translateY","px"]},ce=function(){function r(t){this.setContent(t),this.hooks=new w(["beforeTranslate","translate"])}return r.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.content,null),e=t[E.transform].split(")")[0].split(", "),o=+(e[12]||e[4])||0,i=+(e[13]||e[5])||0;return{x:o,y:i}},r.prototype.translate=function(t){var e=[];Object.keys(t).forEach(function(o){if(rt[o]){var i=rt[o][0];if(i){var s=rt[o][1],n=t[o];e.push(i+"("+n+s+")")}}}),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,e,t),this.style[E.transform]=e.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,t)},r.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style)},r.prototype.destroy=function(){this.hooks.destroy()},r}(),Ht=function(){function r(t,e,o){this.translater=e,this.options=o,this.timer=0,this.hooks=new w(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(t)}return r.prototype.translate=function(t){this.translater.translate(t)},r.prototype.setPending=function(t){this.pending=t},r.prototype.setForceStopped=function(t){this.forceStopped=t},r.prototype.setCallStop=function(t){this.callStopWhenPending=t},r.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style,this.stop())},r.prototype.clearTimer=function(){this.timer&&(D(this.timer),this.timer=0)},r.prototype.destroy=function(){this.hooks.destroy(),D(this.timer)},r}(),ue=function(r,t,e,o){var i=function(h,c){var p=h-c,f=p>0?-1:p<0?1:0;return f},s=i(t.x,r.x),n=i(t.y,r.y),a=e.x-o.x,l=e.y-o.y;return s*a<=0&&n*l<=0},pe=function(r){Z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.startProbe=function(e,o){var i=this,s=e,n=function(){var a=i.translater.getComputedPosition();ue(e,o,a,s)&&i.hooks.trigger(i.hooks.eventTypes.move,a),i.pending||(i.callStopWhenPending?i.callStopWhenPending=!1:i.hooks.trigger(i.hooks.eventTypes.end,a)),s=a,i.pending&&(i.timer=Xt(n))};this.callStopWhenPending&&this.setCallStop(!1),D(this.timer),n()},t.prototype.transitionTime=function(e){e===void 0&&(e=0),this.style[E.transitionDuration]=e+"ms",this.hooks.trigger(this.hooks.eventTypes.time,e)},t.prototype.transitionTimingFunction=function(e){this.style[E.transitionTimingFunction]=e,this.hooks.trigger(this.hooks.eventTypes.timeFunction,e)},t.prototype.transitionProperty=function(){this.style[E.transitionProperty]=E.transform},t.prototype.move=function(e,o,i,s){this.setPending(i>0),this.transitionTimingFunction(s),this.transitionProperty(),this.transitionTime(i),this.translate(o);var n=this.options.probeType===3;i&&n&&this.startProbe(e,o),i||(this._reflow=this.content.offsetHeight,n&&this.hooks.trigger(this.hooks.eventTypes.move,o),this.hooks.trigger(this.hooks.eventTypes.end,o))},t.prototype.doStop=function(){var e=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),e){this.setPending(!1),D(this.timer);var o=this.translater.getComputedPosition(),i=o.x,s=o.y;this.transitionTime(),this.translate({x:i,y:s}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:i,y:s})}return e},t.prototype.stop=function(){var e=this.doStop();e&&this.hooks.trigger(this.hooks.eventTypes.callStop)},t}(Ht),fe=function(r){Z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.move=function(e,o,i,s){if(!i){this.translate(o),this.options.probeType===3&&this.hooks.trigger(this.hooks.eventTypes.move,o),this.hooks.trigger(this.hooks.eventTypes.end,o);return}this.animate(e,o,i,s)},t.prototype.animate=function(e,o,i,s){var n=this,a=C(),l=a+i,h=this.options.probeType===3,c=function(){var p=C();if(p>=l){n.translate(o),h&&n.hooks.trigger(n.hooks.eventTypes.move,o),n.hooks.trigger(n.hooks.eventTypes.end,o);return}p=(p-a)/i;var f=s(p),d={};Object.keys(o).forEach(function(u){var g=e[u],m=o[u];d[u]=(m-g)*f+g}),n.translate(d),h&&n.hooks.trigger(n.hooks.eventTypes.move,d),n.pending&&(n.timer=Xt(c)),n.pending||(n.callStopWhenPending?n.callStopWhenPending=!1:n.hooks.trigger(n.hooks.eventTypes.end,o))};this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),D(this.timer),c()},t.prototype.doStop=function(){var e=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),e){this.setPending(!1),D(this.timer);var o=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,o)}return e},t.prototype.stop=function(){var e=this.doStop();e&&this.hooks.trigger(this.hooks.eventTypes.callStop)},t}(Ht);function ve(r,t,e){var o=e.useTransition,i={};return Object.defineProperty(i,"probeType",{enumerable:!0,configurable:!1,get:function(){return e.probeType}}),o?new pe(r,t,i):new fe(r,t,i)}var gt=function(){function r(t,e,o){this.wrapper=t,this.options=o,this.hooks=new w(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(e)}return r.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},r.prototype.move=function(t){return t=this.hasScroll?t:0,this.setMovingDirection(t),this.performDampingAlgorithm(t,this.options.outOfBoundaryDampingFactor)},r.prototype.setMovingDirection=function(t){this.movingDirection=t>0?-1:t<0?1:0},r.prototype.setDirection=function(t){this.direction=t>0?-1:t<0?1:0},r.prototype.performDampingAlgorithm=function(t,e){var o=this.currentPos+t;return(o>this.minScrollPos||o<this.maxScrollPos)&&(o>this.minScrollPos&&this.options.bounces[0]||o<this.maxScrollPos&&this.options.bounces[1]?o=this.currentPos+t*e:o=o>this.minScrollPos?this.minScrollPos:this.maxScrollPos),o},r.prototype.end=function(t){var e={duration:0},o=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&t<this.options.momentumLimitTime&&o>this.options.momentumLimitDistance){var i=this.direction===-1&&this.options.bounces[0]||this.direction===1&&this.options.bounces[1]?this.wrapperSize:0;e=this.hasScroll?this.momentum(this.currentPos,this.startPos,t,this.maxScrollPos,this.minScrollPos,i,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,e);return e},r.prototype.momentum=function(t,e,o,i,s,n,a){a===void 0&&(a=this.options);var l=t-e,h=Math.abs(l)/o,c=a.deceleration,p=a.swipeBounceTime,f=a.swipeTime,d=Math.min(f,h*2/c),u={destination:t+h*h/c*(l<0?-1:1),duration:d,rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,u,l),u.destination<i?(u.destination=n?Math.max(i-n/4,i-n/u.rate*h):i,u.duration=p):u.destination>s&&(u.destination=n?Math.min(s+n/4,s+n/u.rate*h):s,u.duration=p),u.destination=Math.round(u.destination),u},r.prototype.updateDirection=function(){var t=this.currentPos-this.absStartPos;this.setDirection(t)},r.prototype.refresh=function(t){var e=this.options.rect,o=e.size,i=e.position,s=window.getComputedStyle(this.wrapper,null).position==="static",n=mt(this.wrapper);this.wrapperSize=this.wrapper[o==="width"?"clientWidth":"clientHeight"],this.setContent(t);var a=mt(this.content);this.contentSize=a[o],this.relativeOffset=a[i],s&&(this.relativeOffset-=n[i]),this.computeBoundary(),this.setDirection(0)},r.prototype.setContent=function(t){t!==this.content&&(this.content=t,this.resetState())},r.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},r.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var t={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};t.maxScrollPos<0&&(t.maxScrollPos-=this.relativeOffset,this.options.specifiedIndexAsContent===0&&(t.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,t),this.minScrollPos=t.minScrollPos,this.maxScrollPos=t.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},r.prototype.updatePosition=function(t){this.currentPos=t},r.prototype.getCurrentPos=function(){return this.currentPos},r.prototype.checkInBoundary=function(){var t=this.adjustPosition(this.currentPos),e=t===this.getCurrentPos();return{position:t,inBoundary:e}},r.prototype.adjustPosition=function(t){return!this.hasScroll&&!this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?t=this.minScrollPos:t>this.minScrollPos?t=this.minScrollPos:t<this.maxScrollPos&&(t=this.maxScrollPos),t},r.prototype.updateStartPos=function(){this.startPos=this.currentPos},r.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},r.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},r.prototype.getAbsDist=function(t){return this.dist+=t,Math.abs(this.dist)},r.prototype.destroy=function(){this.hooks.destroy()},r}(),R,I,_,F,kt=(R={},R.yes=function(r){return!0},R.no=function(r){return xt(r),!1},R),de=(I={},I.horizontal=(_={},_.yes="horizontal",_.no="vertical",_),I.vertical=(F={},F.yes="vertical",F.no="horizontal",F),I),me=function(){function r(t,e,o){this.directionLockThreshold=t,this.freeScroll=e,this.eventPassthrough=o,this.reset()}return r.prototype.reset=function(){this.directionLocked=""},r.prototype.checkMovingDirection=function(t,e,o){return this.computeDirectionLock(t,e),this.handleEventPassthrough(o)},r.prototype.adjustDelta=function(t,e){return this.directionLocked==="horizontal"?e=0:this.directionLocked==="vertical"&&(t=0),{deltaX:t,deltaY:e}},r.prototype.computeDirectionLock=function(t,e){this.directionLocked===""&&!this.freeScroll&&(t>e+this.directionLockThreshold?this.directionLocked="horizontal":e>=t+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},r.prototype.handleEventPassthrough=function(t){var e=de[this.directionLocked];if(e){if(this.eventPassthrough===e.yes)return kt.yes(t);if(this.eventPassthrough===e.no)return kt.no(t)}return!1},r}(),ye=function(r,t,e){return e===2?[t,-r]:e===3?[-r,-t]:e===4?[-t,r]:[r,t]},ge=function(){function r(t,e,o,i,s){this.hooks=new w(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=t,this.scrollBehaviorY=e,this.actionsHandler=o,this.animater=i,this.options=s,this.directionLockAction=new me(s.directionLockThreshold,s.freeScroll,s.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return r.prototype.bindActionsHandler=function(){var t=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,function(e){return t.enabled?t.handleStart(e):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,function(e){var o=e.deltaX,i=e.deltaY,s=e.e;if(!t.enabled)return!0;var n=ye(o,i,t.options.quadrant),a=n[0],l=n[1],h={deltaX:a,deltaY:l};return t.hooks.trigger(t.hooks.eventTypes.coordinateTransformation,h),t.handleMove(h.deltaX,h.deltaY,s)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,function(e){return t.enabled?t.handleEnd(e):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,function(e){t.enabled&&!e._constructed&&t.handleClick(e)})},r.prototype.handleStart=function(t){var e=C();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=e,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,t)},r.prototype.handleMove=function(t,e,o){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,o)){var i=this.scrollBehaviorX.getAbsDist(t),s=this.scrollBehaviorY.getAbsDist(e),n=C();if(this.checkMomentum(i,s,n))return!0;if(this.directionLockAction.checkMovingDirection(i,s,o))return this.actionsHandler.setInitiated(),!0;var a=this.directionLockAction.adjustDelta(t,e),l=this.scrollBehaviorX.getCurrentPos(),h=this.scrollBehaviorX.move(a.deltaX),c=this.scrollBehaviorY.getCurrentPos(),p=this.scrollBehaviorY.move(a.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var f=h!==l||p!==c;!this.contentMoved&&!f&&this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&f&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&f&&(this.animater.translate({x:h,y:p}),this.dispatchScroll(n))}}},r.prototype.dispatchScroll=function(t){t-this.startTime>this.options.momentumLimitTime&&(this.startTime=t,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),this.options.probeType===1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},r.prototype.checkMomentum=function(t,e,o){return o-this.endTime>this.options.momentumLimitTime&&e<this.options.momentumLimitDistance&&t<this.options.momentumLimitDistance},r.prototype.handleEnd=function(t){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,t)){var e=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,t,e))return!0;e=this.ensureIntegerPos(e),this.animater.translate(e),this.endTime=C();var o=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,e,o)}},r.prototype.ensureIntegerPos=function(t){this.ensuringInteger=!0;var e=t.x,o=t.y,i=this.scrollBehaviorX,s=i.minScrollPos,n=i.maxScrollPos,a=this.scrollBehaviorY,l=a.minScrollPos,h=a.maxScrollPos;return e=e>0?Math.ceil(e):Math.floor(e),o=o>0?Math.ceil(o):Math.floor(o),e=ft(e,n,s),o=ft(o,h,l),{x:e,y:o}},r.prototype.handleClick=function(t){A(t.target,this.options.preventDefaultException)||(xt(t),t.stopPropagation())},r.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},r.prototype.refresh=function(){this.endTime=0},r.prototype.destroy=function(){this.hooks.destroy()},r}();function ke(r){var t=["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce(function(e,o){return e[o]=r[o],e},{});return t}function Tt(r,t,e,o){var i=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce(function(s,n){return s[n]=r[n],s},{});return i.scrollable=!!r[t],i.bounces=e,i.rect=o,i}function ht(r,t,e){e.forEach(function(o){var i,s;typeof o=="string"?i=s=o:(i=o.source,s=o.target),r.on(i,function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return t.trigger.apply(t,Et([s],n))})})}function Te(r,t){for(var e=Object.keys(r),o=0,i=e;o<i.length;o++){var s=i[o];if(r[s]!==t[s])return!1}return!0}var St=1,Se=function(){function r(t,e,o){this.wrapper=t,this.content=e,this.resizeTimeout=0,this.hooks=new w(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=o;var i=this.options.bounce,s=i.left,n=i.right,a=i.top,l=i.bottom;this.scrollBehaviorX=new gt(t,e,Tt(o,"scrollX",[s,n],{size:"width",position:"left"})),this.scrollBehaviorY=new gt(t,e,Tt(o,"scrollY",[a,l],{size:"height",position:"top"})),this.translater=new ce(this.content),this.animater=ve(this.content,this.translater,this.options),this.actionsHandler=new he(this.options.bindToTarget?this.content:t,ke(this.options)),this.actions=new ge(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var h=this.resize.bind(this);this.resizeRegister=new V(window,[{name:"orientationchange",handler:h},{name:"resize",handler:h}]),this.registerTransitionEnd(),this.init()}return r.prototype.init=function(){var t=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,function(){t.togglePointerEvents(!0)})},r.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new V(this.content,[{name:E.transitionEnd,handler:this.transitionEnd.bind(this)}])},r.prototype.bindTranslater=function(){var t=this,e=this.translater.hooks;e.on(e.eventTypes.beforeTranslate,function(o){t.options.translateZ&&o.push(t.options.translateZ)}),e.on(e.eventTypes.translate,function(o){var i=t.getCurrentPos();if(t.updatePositions(o),t.actions.ensuringInteger===!0){t.actions.ensuringInteger=!1;return}(o.x!==i.x||o.y!==i.y)&&t.togglePointerEvents(!1)})},r.prototype.bindAnimater=function(){var t=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,function(e){t.resetPosition(t.options.bounceTime)||(t.animater.setPending(!1),t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e))}),ht(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},r.prototype.bindActions=function(){var t=this,e=this.actions;ht(e.hooks,this.hooks,[{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:e.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:e.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:e.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:e.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),e.hooks.on(e.hooks.eventTypes.end,function(o,i){if(t.hooks.trigger(t.hooks.eventTypes.touchEnd,i),t.hooks.trigger(t.hooks.eventTypes.end,i)||!e.fingerMoved&&(t.hooks.trigger(t.hooks.eventTypes.scrollCancel),t.checkClick(o)))return!0;if(t.resetPosition(t.options.bounceTime,P.bounce))return t.animater.setForceStopped(!1),!0}),e.hooks.on(e.hooks.eventTypes.scrollEnd,function(o,i){var s=Math.abs(o.x-t.scrollBehaviorX.startPos),n=Math.abs(o.y-t.scrollBehaviorY.startPos);if(t.checkFlick(i,s,n)){t.animater.setForceStopped(!1),t.hooks.trigger(t.hooks.eventTypes.flick);return}if(t.momentum(o,i)){t.animater.setForceStopped(!1);return}e.contentMoved&&t.hooks.trigger(t.hooks.eventTypes.scrollEnd,o),t.animater.forceStopped&&t.animater.setForceStopped(!1)})},r.prototype.checkFlick=function(t,e,o){var i=1;if(this.hooks.events.flick.length>1&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&o<this.options.flickLimitDistance&&(o>i||e>i))return!0},r.prototype.momentum=function(t,e){var o={time:0,easing:P.swiper,newX:t.x,newY:t.y},i=this.scrollBehaviorX.end(e),s=this.scrollBehaviorY.end(e);if(o.newX=lt(i.destination)?o.newX:i.destination,o.newY=lt(s.destination)?o.newY:s.destination,o.time=Math.max(i.duration,s.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,o,this),o.newX!==t.x||o.newY!==t.y)return(o.newX>this.scrollBehaviorX.minScrollPos||o.newX<this.scrollBehaviorX.maxScrollPos||o.newY>this.scrollBehaviorY.minScrollPos||o.newY<this.scrollBehaviorY.maxScrollPos)&&(o.easing=P.swipeBounce),this.scrollTo(o.newX,o.newY,o.time,o.easing),!0},r.prototype.checkClick=function(t){var e={preventClick:this.animater.forceStopped};if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!e.preventClick){var o=this.options.dblclick,i=!1;if(o&&this.lastClickTime){var s=o.delay,n=s===void 0?300:s;C()-this.lastClickTime<n&&(i=!0,oe(t))}return this.options.tap&&ee(t,this.options.tap),this.options.click&&!A(t.target,this.options.preventDefaultException)&&Mt(t),this.lastClickTime=i?null:C(),!0}return!1},r.prototype.resize=function(){var t=this;this.actions.enabled&&(Ut&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(){t.hooks.trigger(t.hooks.eventTypes.resize)},this.options.resizePolling))},r.prototype.transitionEnd=function(t){if(!(t.target!==this.content||!this.animater.pending)){var e=this.animater;e.transitionTime(),this.resetPosition(this.options.bounceTime,P.bounce)||(this.animater.setPending(!1),this.options.probeType!==3&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos()))}},r.prototype.togglePointerEvents=function(t){t===void 0&&(t=!0);for(var e=this.content.children.length?this.content.children:[this.content],o=t?"auto":"none",i=0;i<e.length;i++){var s=e[i];s.isBScrollContainer||(s.style.pointerEvents=o)}},r.prototype.refresh=function(t){var e=this.setContent(t);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(t),this.scrollBehaviorY.refresh(t),e&&(this.translater.setContent(t),this.animater.setContent(t),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(t)),this.actions.refresh(),this.wrapperOffset=vt(this.wrapper)},r.prototype.setContent=function(t){var e=t!==this.content;return e&&(this.content=t),e},r.prototype.scrollBy=function(t,e,o,i){o===void 0&&(o=0);var s=this.getCurrentPos(),n=s.x,a=s.y;i=i||P.bounce,t+=n,e+=a,this.scrollTo(t,e,o,i)},r.prototype.scrollTo=function(t,e,o,i,s){o===void 0&&(o=0),i===void 0&&(i=P.bounce),s===void 0&&(s={start:{},end:{}});var n=this.options.useTransition?i.style:i.fn,a=this.getCurrentPos(),l=z({x:a.x,y:a.y},s.start),h=z({x:t,y:e},s.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,h),!Te(l,h)){var c=Math.abs(h.x-l.x),p=Math.abs(h.y-l.y);c<St&&p<St&&(o=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(l,h,o,n)}},r.prototype.scrollToElement=function(t,e,o,i,s){var n=Dt(t),a=vt(n),l=function(c,p,f){return typeof c=="number"?c:c?Math.round(p/2-f/2):0};o=l(o,n.offsetWidth,this.wrapper.offsetWidth),i=l(i,n.offsetHeight,this.wrapper.offsetHeight);var h=function(c,p,f,d){return c-=p,c=d.adjustPosition(c-f),c};a.left=h(a.left,this.wrapperOffset.left,o,this.scrollBehaviorX),a.top=h(a.top,this.wrapperOffset.top,i,this.scrollBehaviorY),!this.hooks.trigger(this.hooks.eventTypes.scrollToElement,n,a)&&this.scrollTo(a.left,a.top,e,s)},r.prototype.resetPosition=function(t,e){t===void 0&&(t=0),e===void 0&&(e=P.bounce);var o=this.scrollBehaviorX.checkInBoundary(),i=o.position,s=o.inBoundary,n=this.scrollBehaviorY.checkInBoundary(),a=n.position,l=n.inBoundary;return s&&l?!1:(Vt&&this.reflow(),this.scrollTo(i,a,t,e),!0)},r.prototype.reflow=function(){this._reflow=this.content.offsetHeight},r.prototype.updatePositions=function(t){this.scrollBehaviorX.updatePosition(t.x),this.scrollBehaviorY.updatePosition(t.y)},r.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},r.prototype.enable=function(){this.actions.enabled=!0},r.prototype.disable=function(){D(this.animater.timer),this.actions.enabled=!1},r.prototype.destroy=function(){var t=this,e=["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"];e.forEach(function(o){return t[o].destroy()})},r}(),j=function(r){Z(t,r);function t(e,o){var i=r.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,s=Dt(e);return s?(i.plugins={},i.options=new le().merge(o).process(),i.setContent(s).valid&&(i.hooks=new w(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),i.init(s)),i):(W("Can not resolve the wrapper DOM."),i)}return t.use=function(e){var o=e.pluginName,i=t.plugins.some(function(s){return e===s.ctor});return i?t:lt(o)?(W("Plugin Class must specify plugin's name in static property by 'pluginName' field."),t):(t.pluginsMap[o]=!0,t.plugins.push({name:o,applyOrder:e.applyOrder,ctor:e}),t)},t.prototype.setContent=function(e){var o=!1,i=!0,s=e.children[this.options.specifiedIndexAsContent];return s?(o=this.content!==s,o&&(this.content=s)):(W("The wrapper need at least one child element to be content element to scroll."),i=!1),{valid:i,contentChanged:o}},t.prototype.init=function(e){var o=this;this.wrapper=e,e.isBScrollContainer=!0,this.scroller=new Se(e,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,function(){o.refresh()}),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(Wt),this.applyPlugins(),this.refreshWithoutReset(this.content);var i=this.options,s=i.startX,n=i.startY,a={x:s,y:n};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,a)||this.scroller.scrollTo(a.x,a.y)},t.prototype.applyPlugins=function(){var e=this,o=this.options;t.plugins.sort(function(i,s){var n,a=(n={},n.pre=-1,n.post=1,n),l=i.applyOrder?a[i.applyOrder]:0,h=s.applyOrder?a[s.applyOrder]:0;return l-h}).forEach(function(i){var s=i.ctor;o[i.name]&&typeof s=="function"&&(e.plugins[i.name]=new s(e))})},t.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,function(){var e=document.activeElement;e&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&e.blur()})},t.prototype.eventBubbling=function(){ht(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},t.prototype.refreshWithoutReset=function(e){this.scroller.refresh(e),this.hooks.trigger(this.hooks.eventTypes.refresh,e),this.trigger(this.eventTypes.refresh,e)},t.prototype.proxy=function(e){var o=this;e.forEach(function(i){var s=i.key,n=i.sourceKey;ne(o,n,s)})},t.prototype.refresh=function(){var e=this.setContent(this.wrapper),o=e.contentChanged,i=e.valid;if(i){var s=this.content;this.refreshWithoutReset(s),o&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,s),this.trigger(this.eventTypes.contentChanged,s)),this.scroller.resetPosition()}},t.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},t.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},t.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},t.prototype.eventRegister=function(e){this.registerType(e)},t.plugins=[],t.pluginsMap={},t}(w);function G(r,t){var e=new j(r,t);return e}G.use=j.use;G.plugins=j.plugins;G.pluginsMap=j.pluginsMap;var Yt=G;/*!
 * better-scroll / shared-utils
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */function be(r){console.error("[BScroll warn]: "+r)}function we(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var o=Array(r),i=0,t=0;t<e;t++)for(var s=arguments[t],n=0,a=s.length;n<a;n++,i++)o[i]=s[n];return o}var L=typeof window<"u",q=L&&navigator.userAgent.toLowerCase();q&&q.indexOf("android")>0;(function(){if(typeof q=="string"){var r=/os (\d\d?_\d(_\d)?)/,t=r.exec(q);if(!t)return!1;var e=t[1].split("_").map(function(o){return parseInt(o,10)});return e[0]===13&&e[1]>=4}return!1})();var zt=!1;if(L){var Pe="test-passive";try{var bt={};Object.defineProperty(bt,"passive",{get:function(){zt=!0}}),window.addEventListener(Pe,function(){},bt)}catch(r){}}function wt(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var Ee=function(r,t){for(var e in t)r[e]=t[e];return r};function it(r,t,e){return r<t?t:r>e?e:r}var At=L&&document.createElement("div").style,O=function(){if(!L)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],t=0,e=r;t<e.length;t++){var o=e[t];if(At[o.value]!==void 0)return o.key}return!1}();function S(r){return O===!1?r:O==="standard"?r==="transitionEnd"?"transitionend":r:O+r.charAt(0).toUpperCase()+r.substr(1)}function Ce(r,t,e,o){var i=zt?{passive:!1,capture:!!o}:!!o;r.addEventListener(t,e,i)}function De(r,t,e,o){r.removeEventListener(t,e,{capture:!!o})}function st(r){r.cancelable&&r.preventDefault()}O&&O!=="standard"&&""+O.toLowerCase();var xe=S("transform"),Be=S("transition");L&&S("perspective")in At;var K={transform:xe,transition:Be,transitionTimingFunction:S("transitionTimingFunction"),transitionDuration:S("transitionDuration"),transitionDelay:S("transitionDelay"),transformOrigin:S("transformOrigin"),transitionEnd:S("transitionEnd"),transitionProperty:S("transitionProperty")},Me=function(){function r(t){this.events={},this.eventTypes={},this.registerType(t)}return r.prototype.on=function(t,e,o){return o===void 0&&(o=this),this.hasType(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,o]),this},r.prototype.once=function(t,e,o){var i=this;o===void 0&&(o=this),this.hasType(t);var s=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];i.off(t,s);var l=e.apply(o,n);if(l===!0)return l};return s.fn=e,this.on(t,s),this},r.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this.hasType(t),!e)return this.events[t]=[],this;var o=this.events[t];if(!o)return this;for(var i=o.length;i--;)(o[i][0]===e||o[i][0]&&o[i][0].fn===e)&&o.splice(i,1);return this}},r.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.hasType(t);var i=this.events[t];if(i)for(var s=i.length,n=we(i),a,l=0;l<s;l++){var h=n[l],c=h[0],p=h[1];if(c&&(a=c.apply(p,e),a===!0))return a}},r.prototype.registerType=function(t){var e=this;t.forEach(function(o){e.eventTypes[o]=o})},r.prototype.destroy=function(){this.events={},this.eventTypes={}},r.prototype.hasType=function(t){var e=this.eventTypes,o=e[t]===t;o||be('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+(""+Object.keys(e).map(function(i){return JSON.stringify(i)}))+"]")},r}(),$=function(){function r(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return r.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},r.prototype.addDOMEvents=function(){this.handleDOMEvents(Ce)},r.prototype.removeDOMEvents=function(){this.handleDOMEvents(De)},r.prototype.handleDOMEvents=function(t){var e=this,o=this.wrapper;this.events.forEach(function(i){t(o,i.name,e,!!i.capture)})},r.prototype.handleEvent=function(t){var e=t.type;this.events.some(function(o){return o.name===e?(o.handler(t),!0):!1})},r}();class Oe{constructor(t,e){v(this,"startEventRegister");v(this,"moveEventRegister");v(this,"endEventRegister");v(this,"initiated");v(this,"lastPoint");v(this,"scroll");v(this,"hooks");this.indicator=t,this.options=e,this.hooks=new Me(["touchStart","touchMove","touchEnd"]),this.registerEvents()}registerEvents(){const t=[],e=[],o=[];t.push({name:"mousedown",handler:this.start.bind(this)}),e.push({name:"mousemove",handler:this.move.bind(this)}),o.push({name:"mouseup",handler:this.end.bind(this)}),this.startEventRegister=new $(this.indicator.indicatorEl,t),this.moveEventRegister=new $(window,e),this.endEventRegister=new $(window,o)}BScrollIsDisabled(){return!this.indicator.scroll.enabled}start(t){if(this.BScrollIsDisabled())return;const e=t.touches?t.touches[0]:t;st(t),t.stopPropagation(),this.initiated=!0,this.lastPoint=e[this.indicator.keysMap.point],this.hooks.trigger(this.hooks.eventTypes.touchStart)}move(t){if(!this.initiated)return;const o=(t.touches?t.touches[0]:t)[this.indicator.keysMap.point];st(t),t.stopPropagation();const i=o-this.lastPoint;this.lastPoint=o,this.hooks.trigger(this.hooks.eventTypes.touchMove,i)}end(t){this.initiated&&(this.initiated=!1,st(t),t.stopPropagation(),this.hooks.trigger(this.hooks.eventTypes.touchEnd))}destroy(){this.startEventRegister.destroy(),this.moveEventRegister.destroy(),this.endEventRegister.destroy()}}var U=(r=>(r.Horizontal="horizontal",r.Vertical="vertical",r))(U||{}),Lt=(r=>(r.Step="step",r.Point="clickedPoint",r))(Lt||{});class Xe{constructor(t,e){v(this,"wrapper");v(this,"wrapperRect");v(this,"indicatorEl");v(this,"direction");v(this,"scrollInfo");v(this,"currentPos");v(this,"moved");v(this,"startTime");v(this,"keysMap");v(this,"eventHandler");v(this,"clickEventRegister");v(this,"hooksFn",[]);this.scroll=t,this.options=e,this.wrapper=e.wrapper,this.direction=e.direction,this.indicatorEl=this.wrapper.children[0],this.keysMap=this.getKeysMap(),this.handleFade(),this.handleHooks()}handleFade(){this.options.fade&&(this.wrapper.style.opacity="0")}handleHooks(){const{fade:t,interactive:e,scrollbarTrackClickable:o}=this.options,i=this.scroll,s=i.hooks,n=i.scroller.translater.hooks,a=i.scroller.animater.hooks;if(this.registerHooks(s,s.eventTypes.refresh,this.refresh),this.registerHooks(n,n.eventTypes.translate,l=>{const{hasScroll:h}=this.keysMap;this.scroll[h]&&this.updatePosition(l)}),this.registerHooks(a,a.eventTypes.time,this.transitionTime),this.registerHooks(a,a.eventTypes.timeFunction,this.transitionTimingFunction),t&&(this.registerHooks(i,i.eventTypes.scrollEnd,()=>{this.fade()}),this.registerHooks(i,i.eventTypes.scrollStart,()=>{this.fade(!0)}),i.eventTypes.mousewheelStart&&i.eventTypes.mousewheelEnd&&(this.registerHooks(i,i.eventTypes.mousewheelStart,()=>{this.fade(!0)}),this.registerHooks(i,i.eventTypes.mousewheelMove,()=>{this.fade(!0)}),this.registerHooks(i,i.eventTypes.mousewheelEnd,()=>{this.fade()}))),e){const{disableMouse:l,disableTouch:h}=this.scroll.options;this.eventHandler=new Oe(this,{disableMouse:l,disableTouch:h});const c=this.eventHandler.hooks;this.registerHooks(c,c.eventTypes.touchStart,this.startHandler),this.registerHooks(c,c.eventTypes.touchMove,this.moveHandler),this.registerHooks(c,c.eventTypes.touchEnd,this.endHandler)}o&&this.bindClick()}registerHooks(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])}bindClick(){const t=this.wrapper;this.clickEventRegister=new $(t,[{name:"click",handler:this.handleClick.bind(this)}])}handleClick(t){const e=this.calculateclickOffsetPos(t);let{x:o,y:i}=this.scroll;o=this.direction==="horizontal"?e:o,i=this.direction==="vertical"?e:i,this.scroll.scrollTo(o,i,this.options.scrollbarTrackOffsetTime)}calculateclickOffsetPos(t){const{point:e,domRect:o}=this.keysMap,{scrollbarTrackOffsetType:i}=this.options,s=t[e]-this.wrapperRect[o],n=s<this.currentPos?-1:1;let a=0,l=this.currentPos;return i==="step"?a=this.scrollInfo.baseSize*n:(a=0,l=s),this.newPos(l,a,this.scrollInfo)}getKeysMap(){return this.direction==="vertical"?{hasScroll:"hasVerticalScroll",size:"height",wrapperSize:"clientHeight",scrollerSize:"scrollerHeight",maxScrollPos:"maxScrollY",pos:"y",point:"pageY",translateProperty:"translateY",domRect:"top"}:{hasScroll:"hasHorizontalScroll",size:"width",wrapperSize:"clientWidth",scrollerSize:"scrollerWidth",maxScrollPos:"maxScrollX",pos:"x",point:"pageX",translateProperty:"translateX",domRect:"left"}}fade(t){const{fadeInTime:e,fadeOutTime:o}=this.options,i=t?e:o,s=this.wrapper;s.style[K.transitionDuration]=i+"ms",s.style.opacity=t?"1":"0"}refresh(){const{hasScroll:t}=this.keysMap,e=this.scroll,{x:o,y:i}=e;if(this.wrapperRect=this.wrapper.getBoundingClientRect(),this.canScroll(e[t])){const{wrapperSize:s,scrollerSize:n,maxScrollPos:a}=this.keysMap;this.scrollInfo=this.refreshScrollInfo(this.wrapper[s],e[n],e[a],this.indicatorEl[s]),this.updatePosition({x:o,y:i})}}transitionTime(t=0){this.indicatorEl.style[K.transitionDuration]=t+"ms"}transitionTimingFunction(t){this.indicatorEl.style[K.transitionTimingFunction]=t}canScroll(t){return this.wrapper.style.display=t?"block":"none",t}refreshScrollInfo(t,e,o,i){let s=Math.max(Math.round(t*t/(e||t||1)),this.options.minSize);this.options.isCustom&&(s=i);const n=t-s,a=n/o;return{baseSize:s,maxScrollPos:n,minScrollPos:0,sizeRatio:a}}updatePosition(t){const{pos:e,size:o}=this.caculatePosAndSize(t,this.scrollInfo);this.refreshStyle(o,e),this.currentPos=e}caculatePosAndSize(t,e){const{pos:o}=this.keysMap,{sizeRatio:i,baseSize:s,maxScrollPos:n,minScrollPos:a}=e,l=this.options.minSize;let h=Math.round(i*t[o]),c;return h<a?(c=Math.max(s+h*3,l),h=a):h>n?(c=Math.max(s-(h-n)*3,l),h=n+s-c):c=s,{pos:h,size:c}}refreshStyle(t,e){const{translateProperty:o,size:i}=this.keysMap,s=this.scroll.options.translateZ;this.indicatorEl.style[i]="".concat(t,"px"),this.indicatorEl.style[K.transform]="".concat(o,"(").concat(e,"px)").concat(s)}startHandler(){this.moved=!1,this.startTime=wt(),this.transitionTime(),this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart)}moveHandler(t){if(!this.moved&&!this.indicatorNotMoved(t)&&(this.moved=!0,this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart)),this.moved){const e=this.newPos(this.currentPos,t,this.scrollInfo);this.syncBScroll(e)}}endHandler(){if(this.moved){const{x:t,y:e}=this.scroll;this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd,{x:t,y:e})}}indicatorNotMoved(t){const e=this.currentPos,{maxScrollPos:o,minScrollPos:i}=this.scrollInfo;return e===i&&t<=0||e===o&&t>=0}syncBScroll(t){const e=wt(),{x:o,y:i,options:s,scroller:n,maxScrollY:a,minScrollY:l,maxScrollX:h,minScrollX:c}=this.scroll,{probeType:p,momentumLimitTime:f}=s,d={x:o,y:i};this.direction==="vertical"?d.y=it(t,a,l):d.x=it(t,h,c),n.translater.translate(d),e-this.startTime>f&&(this.startTime=e,p===1&&n.hooks.trigger(n.hooks.eventTypes.scroll,d)),p>1&&n.hooks.trigger(n.hooks.eventTypes.scroll,d)}newPos(t,e,o){const{maxScrollPos:i,sizeRatio:s,minScrollPos:n}=o;let a=t+e;return a=it(a,n,i),Math.round(a/s)}destroy(){const{interactive:t,scrollbarTrackClickable:e,isCustom:o}=this.options;t&&this.eventHandler.destroy(),e&&this.clickEventRegister.destroy(),o||this.wrapper.parentNode.removeChild(this.wrapper),this.hooksFn.forEach(i=>{const s=i[0],n=i[1],a=i[2];s.off(n,a)}),this.hooksFn.length=0}}class Rt{constructor(t){v(this,"options");v(this,"indicators");this.scroll=t,this.handleOptions(),this.createIndicators(),this.handleHooks()}handleHooks(){const t=this.scroll;t.hooks.on(t.hooks.eventTypes.destroy,()=>{for(const e of this.indicators)e.destroy()})}handleOptions(){const t=this.scroll.options.scrollbar===!0?{}:this.scroll.options.scrollbar,e={fade:!0,fadeInTime:250,fadeOutTime:500,interactive:!1,customElements:[],minSize:8,scrollbarTrackClickable:!1,scrollbarTrackOffsetType:Lt.Step,scrollbarTrackOffsetTime:300};this.options=Ee(e,t)}createIndicators(){let t;const e=this.scroll,o=[],i=["scrollX","scrollY"],s=[U.Horizontal,U.Vertical],n=this.options.customElements;for(let a=0;a<i.length;a++){const l=i[a];if(e.options[l]){const h=n.shift(),c=s[a];let p=!1;const f=h||this.createScrollbarElement(c);f!==h?e.wrapper.appendChild(f):p=!0,t={wrapper:f,direction:c,...this.options,isCustom:p},o.push(new Xe(e,t))}}this.indicators=o}createScrollbarElement(t,e=this.options.scrollbarTrackClickable){const o=document.createElement("div"),i=document.createElement("div");return o.style.cssText="position:absolute;z-index:9999;overflow:hidden;",i.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",i.className="bscroll-indicator",t===U.Horizontal?(o.style.cssText+="height:7px;left:2px;right:2px;bottom:0;",i.style.height="100%",o.className="bscroll-horizontal-scrollbar"):(o.style.cssText+="width:7px;bottom:2px;top:2px;right:1px;",i.style.width="100%",o.className="bscroll-vertical-scrollbar"),e||(o.style.cssText+="pointer-events:none;"),o.appendChild(i),o}}v(Rt,"pluginName","scrollbar");const He="_wrapper_1ynrd_1",Ye="_content_1ynrd_11",ze="_item_1ynrd_20",B={wrapper:He,content:Ye,item:ze};Yt.use(Rt);const Ae=Pt({name:"ScrollHorizontal",emits:["itemClick"],props:{items:{type:Array,required:!0},scrollToEnd:{type:Boolean,default:!0},scrollItemCls:{type:String},scrollContentCls:{type:String},showSeparator:{type:Boolean,default:!1}},setup(r,{emit:t}){const{scrollToEnd:e,scrollItemCls:o,scrollContentCls:i,showSeparator:s}=r,n=N(),a=N();let l=null;const h=N(0);Ft(()=>{n.value&&(l=new Yt(n.value,{bounce:!1,scrollY:!1,scrollX:!0,click:!0,disableMouse:!1,disableTouch:!0,probeType:3,scrollbar:{fade:!1,interactive:!0}}),l.on("scroll",u=>{}))}),Kt(()=>l&&l.destroy());let c=!1,p=0,f;const d=u=>{c||(c=!0,f=setInterval(()=>{if(p++,p>3){c=!1,clearInterval(f),l==null||l.refresh();return}c=!0,l==null||l.refresh(),l==null||l.scrollBy(-1,0,300)},100))};return()=>y(Nt,null,[y(Q,tt({style:{position:"relative",border:"solid 1px red",marginBottom:"10px"},list:[{id:"input",name:"Input"}],itemKey:"id"},{group:{name:"component",pull:"clone"},clone:u=>({...u,name:r.items.length}),onEnd:u=>{clearInterval(h.value),document.removeEventListener("dragover",d);const g=u.to.childNodes,H=Array.from(g)[u.newIndex];ut(()=>{!H||!l||l.refresh()})},onStart:u=>{h.value=setInterval(()=>{l==null||l.scrollBy(-10,0,100)},300)},onMove:function(u,g){}}),{item:({element:u,...g},...m)=>y("div",{onClick:()=>{}},[u.name])}),y("div",{style:{display:"flex","flex-direction":"row"}},[y("div",{ref:n,class:x("scroll-horizontal__wrapper",B.wrapper)},[y(Q,tt({ref:a,list:r.items,class:x("scroll-horizontal__content",B.content,i),itemKey:"name"},{group:{name:"component"},scroll:!1,onEnd(){document.removeEventListener("dragover",d)},onChange:function(u){u.added||u.removed}}),{item:({element:u,index:g})=>{const m=u,H=Y=>{Y.preventDefault(),Y.stopPropagation(),t("itemClick",m,g)},J=x("scroll-horizontal__item",B.item,o);return y("div",{key:m.key,class:J,onClick:s?void 0:H},[m.name])}})]),y("div",{class:x("scroll-horizontal__wrapper",B.wrapper)},[y(Q,tt({list:r.items,class:x("scroll-horizontal__content",B.content,i),itemKey:"name"},{group:{name:"component"},scroll:!1,onChange:function(u){(u.added||u.removed)&&ut(()=>{l.refresh()})}}),{item:({element:u,index:g})=>{const m=u,H=Y=>{Y.preventDefault(),Y.stopPropagation(),t("itemClick",m,g)},J=x("scroll-horizontal__item",B.item,o);return y("div",{key:m.key,class:J,onClick:s?void 0:H},[m.name])}})])])])}}),Ke=Pt({setup(){const r=N(new Array(3).fill(0).map((t,e)=>({key:"".concat(e).repeat(5),name:"".concat(e),id:"".concat(e).repeat(5)})));return()=>y(Ae,{items:r.value},null)}});export{Ke as default};
